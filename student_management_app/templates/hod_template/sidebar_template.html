{% load static %}

<aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="{% url 'admin_home' %}" class="brand-link">
        <img src="{% static 'dist/img/AdminLTELogo.png' %}" alt="AdminLTE Logo" class="brand-image img-circle elevation-3">
        <span class="brand-text">Open University</span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
        <!-- User Panel -->
        <div class="user-panel">
            <div class="user-info">
                <div class="image">
                    <img src="{% static 'dist/img/user2-160x160.jpg' %}" class="img-circle elevation-2" alt="User Image">
                </div>
                <div class="info">
                    <a href="{% url 'admin_profile' %}" class="d-block">{{ user.first_name }} {{ user.last_name }}</a>
                    <span class="user-status">Administrator</span>
                </div>
            </div>
            <div class="datetime-info">
                <span class="date">2025-03-03</span>
                <span class="time">10:49:39</span>
            </div>
        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                
                <!-- Dashboard -->
                <li class="nav-header">DASHBOARD</li>
                <li class="nav-item">
                    {% url 'admin_home' as admin_home %}
                    <a href="{{ admin_home }}" class="nav-link {% if request.path == admin_home %}active{% endif %}">
                        <i class="nav-icon fas fa-home"></i>
                        <p>Home</p>
                    </a>
                </li>

                <!-- Staff Management -->
                <li class="nav-header">STAFF MANAGEMENT</li>
                <li class="nav-item">
                    {% url 'manage_staff' as manage_staff %}
                    {% url 'edit_staff' staff_id=id as edit_staff %}
                    <a href="{{ manage_staff }}" class="nav-link {% if request.path == manage_staff or request.path == edit_staff %}active{% endif %}">
                        <i class="nav-icon fas fa-chalkboard-teacher"></i>
                        <p>Manage Staff</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'add_staff' as add_staff %}
                    <a href="{{ add_staff }}" class="nav-link {% if request.path == add_staff %}active{% endif %}">
                        <i class="nav-icon fas fa-user-plus"></i>
                        <p>Add Staff</p>
                    </a>
                </li>

                <!-- Student Management -->
                <li class="nav-header">STUDENT MANAGEMENT</li>
                <li class="nav-item">
                    {% url 'manage_student' as manage_student %}
                    {% url 'edit_student' student_id=id as edit_student %}
                    <a href="{{ manage_student }}" class="nav-link {% if request.path == manage_student or request.path == edit_student %}active{% endif %}">
                        <i class="nav-icon fas fa-user-graduate"></i>
                        <p>Manage Students</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'add_student' as add_student %}
                    <a href="{{ add_student }}" class="nav-link {% if request.path == add_student %}active{% endif %}">
                        <i class="nav-icon fas fa-user-plus"></i>
                        <p>Add Student</p>
                    </a>
                </li>

                <!-- Academic Management -->
                <li class="nav-header">ACADEMIC MANAGEMENT</li>
                <li class="nav-item">
                    {% url 'manage_course' as manage_course %}
                    {% url 'edit_course' course_id=id as edit_course %}
                    <a href="{{ manage_course }}" class="nav-link {% if request.path == manage_course or request.path == edit_course %}active{% endif %}">
                        <i class="nav-icon fas fa-graduation-cap"></i>
                        <p>Manage Courses</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manage_subject' as manage_subject %}
                    {% url 'edit_subject' subject_id=id as edit_subject %}
                    <a href="{{ manage_subject }}" class="nav-link {% if request.path == manage_subject or request.path == edit_subject %}active{% endif %}">
                        <i class="nav-icon fas fa-book"></i>
                        <p>Manage Subjects</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'manage_session' as manage_session %}
                    {% url 'edit_session' session_id=id as edit_session %}
                    <a href="{{ manage_session }}" class="nav-link {% if request.path == manage_session or request.path == edit_session %}active{% endif %}">
                        <i class="nav-icon fas fa-calendar"></i>
                        <p>Manage Sessions</p>
                    </a>
                </li>

                <!-- Scholarship Management (New Section) -->
                <li class="nav-header">SCHOLARSHIP MANAGEMENT</li>
                <li class="nav-item">
                    {% url 'admin_manage_scholarships' as manage_scholarships %}
                    <a href="{{ manage_scholarships }}" class="nav-link {% if request.path == manage_scholarships %}active{% endif %}">
                        <i class="nav-icon fas fa-award"></i>
                        <p>
                            Manage Scholarships
                            <span class="right badge badge-info">New</span>
                        </p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'admin_view_scholarship_applications' as view_applications %}
                    <a href="{{ view_applications }}" class="nav-link {% if request.path == view_applications %}active{% endif %}">
                        <i class="nav-icon fas fa-file-alt"></i>
                        <p>Scholarship Applications</p>
                    </a>
                </li>

                <!-- Monitoring -->
                <li class="nav-header">MONITORING</li>
                <li class="nav-item">
                    {% url 'admin_view_attendance' as admin_view_attendance %}
                    <a href="{{ admin_view_attendance }}" class="nav-link {% if request.path == admin_view_attendance %}active{% endif %}">
                        <i class="nav-icon fas fa-calendar-check"></i>
                        <p>View Attendance</p>
                    </a>
                </li>

                <!-- Communication -->
                <li class="nav-header">COMMUNICATION</li>
                <li class="nav-item">
                    {% url 'student_feedback_message' as student_feedback %}
                    <a href="{{ student_feedback }}" class="nav-link {% if request.path == student_feedback %}active{% endif %}">
                        <i class="nav-icon fas fa-comment"></i>
                        <p>Student Feedback</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'staff_feedback_message' as staff_feedback %}
                    <a href="{{ staff_feedback }}" class="nav-link {% if request.path == staff_feedback %}active{% endif %}">
                        <i class="nav-icon fas fa-comment-alt"></i>
                        <p>Staff Feedback</p>
                    </a>
                </li>

                <!-- Leave Management -->
                <li class="nav-header">LEAVE MANAGEMENT</li>
                <li class="nav-item">
                    {% url 'student_leave_view' as student_leave %}
                    <a href="{{ student_leave }}" class="nav-link {% if request.path == student_leave %}active{% endif %}">
                        <i class="nav-icon fas fa-user-clock"></i>
                        <p>Student Leave</p>
                    </a>
                </li>
                <li class="nav-item">
                    {% url 'staff_leave_view' as staff_leave %}
                    <a href="{{ staff_leave }}" class="nav-link {% if request.path == staff_leave %}active{% endif %}">
                        <i class="nav-icon fas fa-clock"></i>
                        <p>Staff Leave</p>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</aside>

<style>
:root {
    --sidebar-bg: #1a1a2e;
    --sidebar-hover: #16213e;
    --sidebar-active: #0f3460;
    --sidebar-text: #e94560;
}

.main-sidebar {
    background: var(--sidebar-bg);
    box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
}

.brand-link {
    background: var(--sidebar-bg) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.user-panel {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    padding: 1.5rem 1rem;
}

.nav-header {
    color: var(--sidebar-text) !important;
    padding: 1rem;
    font-weight: 600;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.nav-link {
    color: #fff !important;
    border-radius: 8px;
    margin: 0.25rem 1rem;
    transition: all 0.3s ease;
}

.nav-link:hover {
    background: var(--sidebar-hover);
}

.nav-link.active {
    background: var(--sidebar-active) !important;
}

.datetime-info {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.75rem;
    margin-top: 1rem;
    display: flex;
    justify-content: space-between;
}

.user-status {
    color: var(--sidebar-text);
    font-size: 0.75rem;
}

.badge-info {
    background: var(--sidebar-text);
}
</style>

<script>
// Update datetime every second
function updateDateTime() {
    const now = new Date();
    document.querySelector('.datetime-info .date').textContent = now.toISOString().split('T')[0];
    document.querySelector('.datetime-info .time').textContent = now.toTimeString().slice(0, 8);
}

setInterval(updateDateTime, 1000);
updateDateTime();
</script>